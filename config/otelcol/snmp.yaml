# standalone snmp collector

receivers:
  ################
  # SNMP for PDU #
  ################
  # https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/snmpreceiver
  # https://oid-rep.orange-labs.fr/get/1.3.6.1.4.1.30966
  # oid prefix: 1.3.6.1.4.1.30966.10.8
  snmp/pdu-30966-1:
    collection_interval: 15s
    endpoint: udp://pdu1:161
    version: v3
    security_level: auth_priv
    user: zjusct
    auth_type: "MD5"
    auth_password: ${SNMP_AUTH_KEY}
    privacy_type: "DES"
    privacy_password: ${SNMP_PRIVATE_KEY}
    resource_attributes:
      device.id:
        scalar_oid: ".1.3.6.1.4.1.30966.10.8.1.1.0"
    attributes:
      pdu.port.type:
        enum: ["input", "outlet"]
      pdu.port.index:
        enum:
          [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "15",
            "16",
            "17",
            "18",
            "19",
            "20",
            "21",
            "22",
            "23",
            "24",
          ]
    metrics:
      pdu.current:
        # 0.1A
        unit: "ampere"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.4.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
      pdu.power_factor:
        # 0.01
        unit: "ratio"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.5.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
      pdu.voltage:
        # V
        unit: "volt"
        gauge:
          value_type: int
        scalar_oids:
          # only input
          - oid: ".1.3.6.1.4.1.30966.10.8.2.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
      pdu.power:
        # W
        unit: "watt"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.6.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
      pdu.energy:
        # 0.1kWh
        unit: "kWh"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.7.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
  snmp/pdu-30966-2:
    collection_interval: 15s
    endpoint: udp://pdu2:161
    version: v3
    security_level: auth_priv
    user: zjusct
    auth_type: "MD5"
    auth_password: ${SNMP_AUTH_KEY}
    privacy_type: "DES"
    privacy_password: ${SNMP_PRIVATE_KEY}
    resource_attributes:
      device.id:
        scalar_oid: ".1.3.6.1.4.1.30966.10.8.1.1.0"
    attributes:
      pdu.port.type:
        enum: ["input", "outlet"]
      pdu.port.index:
        enum:
          [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "15",
            "16",
            "17",
            "18",
            "19",
            "20",
            "21",
            "22",
            "23",
            "24",
          ]
    metrics:
      pdu.current:
        # 0.1A
        unit: "ampere"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.4.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.4.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
      pdu.power_factor:
        # 0.01
        unit: "ratio"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.5.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.5.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
      pdu.voltage:
        # V
        unit: "volt"
        gauge:
          value_type: int
        scalar_oids:
          # only input
          - oid: ".1.3.6.1.4.1.30966.10.8.2.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
      pdu.power:
        # W
        unit: "watt"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.6.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.6.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
      pdu.energy:
        # 0.1kWh
        unit: "kWh"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.30966.10.8.2.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.30966.10.8.7.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.7.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.8.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.9.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.10.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.11.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.12.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.13.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.14.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.15.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "21"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "22"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "23"
          - oid: ".1.3.6.1.4.1.30966.10.8.7.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "24"
  # https://oid-rep.orange-labs.fr/get/1.3.6.1.4.1.42578
  # oid prefix: 1.3.6.1.4.1.42578
  snmp/pdu-42578-1:
    collection_interval: 15s
    endpoint: udp://pdu3:161
    version: v3
    security_level: auth_priv
    user: zjusct
    auth_type: "MD5"
    auth_password: ${SNMP_AUTH_KEY}
    privacy_type: "DES"
    privacy_password: ${SNMP_PRIVATE_KEY}
    resource_attributes:
      device.id:
        scalar_oid: ".1.3.6.1.2.1.1.5.0"
    attributes:
      pdu.port.type:
        enum: ["input", "outlet"]
      pdu.port.index:
        enum:
          [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "15",
            "16",
            "17",
            "18",
            "19",
            "20",
          ]
    metrics:
      pdu.warn:
        unit: "count"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.42578.1.1.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.42578.1.1.16.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.42578.1.1.17.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.42578.1.1.18.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.42578.1.1.19.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.42578.1.1.20.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.42578.1.1.21.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.42578.1.1.22.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.42578.1.1.23.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.42578.1.1.24.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.42578.1.1.25.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.42578.1.1.26.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.42578.1.1.27.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.42578.1.1.28.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.42578.1.1.29.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.42578.1.1.30.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.42578.1.1.31.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.42578.1.1.32.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.42578.1.1.33.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.42578.1.1.34.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.42578.1.1.35.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
      pdu.current:
        # 0.01A
        unit: "ampere"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.42578.1.2.1.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: input
          - oid: ".1.3.6.1.4.1.42578.1.3.1.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.42578.1.3.2.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.42578.1.3.3.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.42578.1.3.4.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.42578.1.3.5.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.42578.1.3.6.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.42578.1.3.7.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.42578.1.3.8.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.42578.1.3.9.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.42578.1.3.10.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.42578.1.3.11.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.42578.1.3.12.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.42578.1.3.13.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.42578.1.3.14.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.42578.1.3.15.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.42578.1.3.16.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.42578.1.3.17.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.42578.1.3.18.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.42578.1.3.19.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.42578.1.3.20.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
      pdu.voltage:
        # 0.01V
        unit: "volt"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.42578.1.2.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "input"
          - oid: ".1.3.6.1.4.1.42578.1.3.1.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.42578.1.3.2.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.42578.1.3.3.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.42578.1.3.4.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.42578.1.3.5.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.42578.1.3.6.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.42578.1.3.7.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.42578.1.3.8.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.42578.1.3.9.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.42578.1.3.10.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.42578.1.3.11.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.42578.1.3.12.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.42578.1.3.13.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.42578.1.3.14.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.42578.1.3.15.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.42578.1.3.16.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.42578.1.3.17.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.42578.1.3.18.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.42578.1.3.19.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.42578.1.3.20.2.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
      pdu.power:
        # W
        unit: "watt"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.42578.1.2.3.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "input"
          - oid: ".1.3.6.1.4.1.42578.1.3.1.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.42578.1.3.2.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.42578.1.3.3.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.42578.1.3.4.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.42578.1.3.5.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.42578.1.3.6.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.42578.1.3.7.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.42578.1.3.8.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.42578.1.3.9.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.42578.1.3.10.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.42578.1.3.11.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.42578.1.3.12.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.42578.1.3.13.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.42578.1.3.14.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.42578.1.3.15.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.42578.1.3.16.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.42578.1.3.17.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.42578.1.3.18.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.42578.1.3.19.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.42578.1.3.20.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
      pdu.power_factor:
        # 0.001%
        unit: "ratio"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.42578.1.2.4.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "input"
          - oid: ".1.3.6.1.4.1.42578.1.3.1.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.42578.1.3.2.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.42578.1.3.3.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.42578.1.3.4.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.42578.1.3.5.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.42578.1.3.6.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.42578.1.3.7.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.42578.1.3.8.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.42578.1.3.9.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.42578.1.3.10.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.42578.1.3.11.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.42578.1.3.12.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.42578.1.3.13.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.42578.1.3.14.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.42578.1.3.15.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.42578.1.3.16.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.42578.1.3.17.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.42578.1.3.18.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.42578.1.3.19.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.42578.1.3.20.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"
      pdu.energy:
        # 0.01kWh
        unit: "kWh"
        gauge:
          value_type: int
        scalar_oids:
          - oid: ".1.3.6.1.4.1.42578.1.2.5.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "input"
          - oid: ".1.3.6.1.4.1.42578.1.3.1.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "1"
          - oid: ".1.3.6.1.4.1.42578.1.3.2.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "2"
          - oid: ".1.3.6.1.4.1.42578.1.3.3.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "3"
          - oid: ".1.3.6.1.4.1.42578.1.3.4.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "4"
          - oid: ".1.3.6.1.4.1.42578.1.3.5.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "5"
          - oid: ".1.3.6.1.4.1.42578.1.3.6.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "6"
          - oid: ".1.3.6.1.4.1.42578.1.3.7.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "7"
          - oid: ".1.3.6.1.4.1.42578.1.3.8.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "8"
          - oid: ".1.3.6.1.4.1.42578.1.3.9.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "9"
          - oid: ".1.3.6.1.4.1.42578.1.3.10.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "10"
          - oid: ".1.3.6.1.4.1.42578.1.3.11.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "11"
          - oid: ".1.3.6.1.4.1.42578.1.3.12.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "12"
          - oid: ".1.3.6.1.4.1.42578.1.3.13.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "13"
          - oid: ".1.3.6.1.4.1.42578.1.3.14.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "14"
          - oid: ".1.3.6.1.4.1.42578.1.3.15.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "15"
          - oid: ".1.3.6.1.4.1.42578.1.3.16.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "16"
          - oid: ".1.3.6.1.4.1.42578.1.3.17.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "17"
          - oid: ".1.3.6.1.4.1.42578.1.3.18.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "18"
          - oid: ".1.3.6.1.4.1.42578.1.3.19.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "19"
          - oid: ".1.3.6.1.4.1.42578.1.3.20.6.0"
            resource_attributes:
              - device.id
            attributes:
              - name: pdu.port.type
                value: "outlet"
              - name: pdu.port.index
                value: "20"

processors:
  # https://github.com/open-telemetry/opentelemetry-collector/tree/main/processor/batchprocessor
  batch:
  # https://github.com/open-telemetry/opentelemetry-collector/tree/main/processor/memorylimiterprocessor
  memory_limiter:
    # 75% of maximum memory up to 2G
    limit_mib: 1536
    # 25% of limit up to 2G
    spike_limit_mib: 512
    check_interval: 5s
  resource/cloud:
    attributes:
      - key: cloud.region
        value: "zjusct-cluster"
        action: insert
  # https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/processor/metricstransformprocessor/README.md
  metricstransform/pdu-42578:
    transforms:
      - include: pdu.current
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.01
      - include: pdu.voltage
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.01
      - include: pdu.power_factor
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.001
      - include: pdu.energy
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.01
  metricstransform/pdu-30966:
    transforms:
      - include: pdu.current
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.1
      - include: pdu.voltage
        action: update
        operations:
          - action: toggle_scalar_data_type
      - include: pdu.power_factor
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.01
      - include: pdu.energy
        action: update
        operations:
          - action: toggle_scalar_data_type
          - action: experimental_scale_value
            experimental_scale: 0.1

exporters:
  # https://github.com/open-telemetry/opentelemetry-collector/tree/main/exporter/debugexporter
  debug/basic:
    verbosity: basic
  debug/normal:
    verbosity: normal
  debug/detailed:
    verbosity: detailed
  # https://github.com/open-telemetry/opentelemetry-collector/tree/main/exporter/otlpexporter
  # grpc only
  otlp/internal:
    endpoint: otelcol-gateway:4317
    tls:
      insecure: true

service:
  pipelines:
    metrics/pdu-30966:
      receivers: [snmp/pdu-30966-1, snmp/pdu-30966-2]
      processors:
        [memory_limiter, batch, metricstransform/pdu-30966, resource/cloud]
      exporters: [otlp/internal]
    metrics/pdu-42578:
      receivers: [snmp/pdu-42578-1]
      processors:
        [memory_limiter, batch, metricstransform/pdu-42578, resource/cloud]
      exporters: [otlp/internal]
